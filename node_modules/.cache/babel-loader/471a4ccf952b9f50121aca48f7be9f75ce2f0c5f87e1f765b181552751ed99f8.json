{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OUSSAMA CHAROUK\\\\Downloads\\\\FullStack_Ecommerce_App-main\\\\frontend\\\\src\\\\pages\\\\ProductDetailsPage.js\",\n  _s = $RefreshSig$();\n// src/pages/ProductDetailsPage.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Container, Row, Col, Card, Button, Modal, Form, Spinner } from 'react-bootstrap';\nimport Message from '../components/Message';\n\n// product actions\nimport { getProductDetails, deleteProduct } from '../actions/productActions';\n\n// wishlist (single toggle endpoint)\nimport { toggleWishlist } from '../actions/wishlistActions';\n\n// constants you already had\nimport { CREATE_PRODUCT_RESET, DELETE_PRODUCT_RESET, UPDATE_PRODUCT_RESET, CARD_CREATE_RESET } from '../constants';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProductDetailsPage({\n  match\n}) {\n  _s();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  // ===== store state\n  const {\n    loading,\n    error,\n    product\n  } = useSelector(s => s.productDetailsReducer);\n  const {\n    userInfo\n  } = useSelector(s => s.userLoginReducer);\n  const {\n    success: productDeletionSuccess\n  } = useSelector(s => s.deleteProductReducer);\n\n  // wishlist state from store\n  const {\n    items: wishlistItems = []\n  } = useSelector(s => s.wishlist || {});\n  const pid = product === null || product === void 0 ? void 0 : product.id;\n  const inWishlist = useMemo(() => pid ? wishlistItems.some(w => (w.id || w._id) === pid) : false, [wishlistItems, pid]);\n\n  // ===== ui state\n  const [showDelete, setShowDelete] = useState(false);\n\n  // qty\n  const [qty, setQty] = useState(1);\n  const plus = () => setQty(q => Math.min(99, q + 1));\n  const minus = () => setQty(q => Math.max(1, q - 1));\n\n  // ‚ÄúCommander maintenant‚Äù modal + simple form\n  const [orderOpen, setOrderOpen] = useState(false);\n  const [custName, setCustName] = useState('');\n  const [custPhone, setCustPhone] = useState('');\n  const [custAddress, setCustAddress] = useState('');\n\n  // ===== effects\n  useEffect(() => {\n    dispatch(getProductDetails(match.params.id));\n    dispatch({\n      type: UPDATE_PRODUCT_RESET\n    });\n    dispatch({\n      type: CREATE_PRODUCT_RESET\n    });\n    dispatch({\n      type: CARD_CREATE_RESET\n    });\n  }, [dispatch, match.params.id]);\n  useEffect(() => {\n    if (productDeletionSuccess) {\n      alert('Product successfully deleted.');\n      history.push('/');\n      dispatch({\n        type: DELETE_PRODUCT_RESET\n      });\n    }\n  }, [productDeletionSuccess, history, dispatch]);\n\n  // ===== handlers\n  const confirmDelete = () => setShowDelete(true);\n  const doDelete = () => {\n    dispatch(deleteProduct(match.params.id));\n    setShowDelete(false);\n  };\n  const handleToggleWishlist = () => {\n    if (!pid) return;\n    dispatch(toggleWishlist(pid));\n  };\n\n  // Open the order form modal\n  const openOrder = () => {\n    setOrderOpen(true);\n  };\n\n  // Send to WhatsApp after small validation\n  const sendOrder = () => {\n    if (!custName.trim() || !custPhone.trim() || !custAddress.trim()) {\n      alert('Merci de remplir nom, t√©l√©phone et adresse.');\n      return;\n    }\n    const price = Number((product === null || product === void 0 ? void 0 : product.price) || 0);\n    const total = price * qty;\n    const adminPhone = '212612345678'; // <-- PUT YOUR WHATSAPP NUMBER HERE (no +, only digits)\n\n    const msg = [`*Nouvelle commande*`, `Produit : ${(product === null || product === void 0 ? void 0 : product.name) || '-'}`, `Quantit√© : ${qty}`, `Total estim√© : ${new Intl.NumberFormat('fr-MA', {\n      style: 'currency',\n      currency: 'MAD'\n    }).format(total)}`, `---`, `Nom : ${custName}`, `T√©l√©phone : ${custPhone}`, `Adresse : ${custAddress}`].join('\\n');\n    const url = 'https://wa.me/' + adminPhone + '?text=' + encodeURIComponent(msg);\n    window.open(url, '_blank');\n    setOrderOpen(false);\n  };\n\n  // ===== ui\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"mb-0\",\n        children: \"Getting Product Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        className: \"ml-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Container, {\n      className: \"pd\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"gy-4\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pd-media\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pd-media-frame\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: product === null || product === void 0 ? void 0 : product.image,\n                alt: product === null || product === void 0 ? void 0 : product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          lg: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pd-card mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"pd-title\",\n              children: product === null || product === void 0 ? void 0 : product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pd-subtle mb-3\",\n              children: product !== null && product !== void 0 && product.category ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\"Cat\\xE9gorie : \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: product.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: product !== null && product !== void 0 && product.stock ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pd-chip pd-chip--ok\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-check-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 23\n                }, this), \" En stock\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pd-chip pd-chip--ko\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 23\n                }, this), \" Out of stock\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), (product === null || product === void 0 ? void 0 : product.description) && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"pd-subtle\",\n              style: {\n                lineHeight: 1.7\n              },\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 19\n            }, this), userInfo && userInfo.admin ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 d-flex\",\n              style: {\n                gap: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                onClick: confirmDelete,\n                children: \"Delete Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: () => history.push(`/product-update/${product.id}/`),\n                children: \"Edit Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pd-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pd-price mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pd-subtle\",\n                children: \"Prix\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: new Intl.NumberFormat('fr-MA', {\n                  style: 'currency',\n                  currency: 'MAD'\n                }).format(Number((product === null || product === void 0 ? void 0 : product.price) || 0))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pd-subtle mb-2\",\n                children: \"Quantit\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pd-qty\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn\",\n                  onClick: minus,\n                  \"aria-label\": \"minus\",\n                  children: \"\\u2212\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: qty,\n                  onChange: e => {\n                    const v = Number(e.target.value);\n                    if (!Number.isNaN(v)) setQty(Math.max(1, Math.min(99, v)));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn\",\n                  onClick: plus,\n                  \"aria-label\": \"plus\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pd-actions mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"pd-btn-primary\",\n                onClick: openOrder,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fab fa-whatsapp mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this), \" Commander maintenant\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this), product !== null && product !== void 0 && product.stock ? /*#__PURE__*/_jsxDEV(Link, {\n                to: `${product.id}/checkout/`,\n                className: \"pd-btn-outline btn\",\n                children: \"Pay with Stripe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 21\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleToggleWishlist,\n                className: \"pd-btn-outline\",\n                \"aria-label\": inWishlist ? 'Retirer de la wishlist' : 'Ajouter √† la wishlist',\n                children: inWishlist ? 'üíî Retirer de ma wishlist' : 'ü§ç Ajouter √† ma wishlist'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pd-total\",\n              children: [\"Total estim\\xE9 :\", ' ', /*#__PURE__*/_jsxDEV(\"b\", {\n                children: new Intl.NumberFormat('fr-MA', {\n                  style: 'currency',\n                  currency: 'MAD'\n                }).format(Number((product === null || product === void 0 ? void 0 : product.price) || 0) * qty)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showDelete,\n      onHide: () => setShowDelete(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            style: {\n              color: '#e6e600'\n            },\n            className: \"fas fa-exclamation-triangle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), \" Delete Confirmation\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"\\\"\", product === null || product === void 0 ? void 0 : product.name, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 43\n        }, this), \"?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: doDelete,\n          children: \"Confirm Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => setShowDelete(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: orderOpen,\n      onHide: () => setOrderOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fab fa-whatsapp mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), \"Commander maintenant\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"orderName\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Nom / Pr\\xE9nom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: custName,\n              onChange: e => setCustName(e.target.value),\n              placeholder: \"Votre nom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"orderPhone\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"T\\xE9l\\xE9phone (WhatsApp)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: custPhone,\n              onChange: e => setCustPhone(e.target.value),\n              placeholder: \"06 xx xx xx xx\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"orderAddress\",\n            className: \"mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Adresse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 3,\n              value: custAddress,\n              onChange: e => setCustAddress(e.target.value),\n              placeholder: \"Ville, quartier, rue, n\\xB0...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: sendOrder,\n          children: \"Envoyer sur WhatsApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => setOrderOpen(false),\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductDetailsPage, \"u+RadzHpSWgNFLkOXxMIslD76pg=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c = ProductDetailsPage;\nexport default ProductDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"ProductDetailsPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useDispatch","useSelector","Link","useHistory","Container","Row","Col","Card","Button","Modal","Form","Spinner","Message","getProductDetails","deleteProduct","toggleWishlist","CREATE_PRODUCT_RESET","DELETE_PRODUCT_RESET","UPDATE_PRODUCT_RESET","CARD_CREATE_RESET","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetailsPage","match","_s","history","dispatch","loading","error","product","s","productDetailsReducer","userInfo","userLoginReducer","success","productDeletionSuccess","deleteProductReducer","items","wishlistItems","wishlist","pid","id","inWishlist","some","w","_id","showDelete","setShowDelete","qty","setQty","plus","q","Math","min","minus","max","orderOpen","setOrderOpen","custName","setCustName","custPhone","setCustPhone","custAddress","setCustAddress","params","type","alert","push","confirmDelete","doDelete","handleToggleWishlist","openOrder","sendOrder","trim","price","Number","total","adminPhone","msg","name","Intl","NumberFormat","style","currency","format","join","url","encodeURIComponent","window","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","animation","variant","lg","src","image","alt","category","stock","description","lineHeight","admin","gap","onClick","value","onChange","e","v","target","isNaN","to","show","onHide","Header","closeButton","Title","color","Body","Footer","Group","controlId","Label","Control","placeholder","as","rows","_c","$RefreshReg$"],"sources":["C:/Users/OUSSAMA CHAROUK/Downloads/FullStack_Ecommerce_App-main/frontend/src/pages/ProductDetailsPage.js"],"sourcesContent":["// src/pages/ProductDetailsPage.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Button,\n  Modal,\n  Form,\n  Spinner,\n} from 'react-bootstrap';\n\nimport Message from '../components/Message';\n\n// product actions\nimport { getProductDetails, deleteProduct } from '../actions/productActions';\n\n// wishlist (single toggle endpoint)\nimport { toggleWishlist } from '../actions/wishlistActions';\n\n// constants you already had\nimport {\n  CREATE_PRODUCT_RESET,\n  DELETE_PRODUCT_RESET,\n  UPDATE_PRODUCT_RESET,\n  CARD_CREATE_RESET,\n} from '../constants';\n\nfunction ProductDetailsPage({ match }) {\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  // ===== store state\n  const { loading, error, product } = useSelector(\n    (s) => s.productDetailsReducer\n  );\n  const { userInfo } = useSelector((s) => s.userLoginReducer);\n  const { success: productDeletionSuccess } = useSelector(\n    (s) => s.deleteProductReducer\n  );\n\n  // wishlist state from store\n  const { items: wishlistItems = [] } = useSelector((s) => s.wishlist || {});\n  const pid = product?.id;\n  const inWishlist = useMemo(\n    () => (pid ? wishlistItems.some((w) => (w.id || w._id) === pid) : false),\n    [wishlistItems, pid]\n  );\n\n  // ===== ui state\n  const [showDelete, setShowDelete] = useState(false);\n\n  // qty\n  const [qty, setQty] = useState(1);\n  const plus = () => setQty((q) => Math.min(99, q + 1));\n  const minus = () => setQty((q) => Math.max(1, q - 1));\n\n  // ‚ÄúCommander maintenant‚Äù modal + simple form\n  const [orderOpen, setOrderOpen] = useState(false);\n  const [custName, setCustName] = useState('');\n  const [custPhone, setCustPhone] = useState('');\n  const [custAddress, setCustAddress] = useState('');\n\n  // ===== effects\n  useEffect(() => {\n    dispatch(getProductDetails(match.params.id));\n    dispatch({ type: UPDATE_PRODUCT_RESET });\n    dispatch({ type: CREATE_PRODUCT_RESET });\n    dispatch({ type: CARD_CREATE_RESET });\n  }, [dispatch, match.params.id]);\n\n  useEffect(() => {\n    if (productDeletionSuccess) {\n      alert('Product successfully deleted.');\n      history.push('/');\n      dispatch({ type: DELETE_PRODUCT_RESET });\n    }\n  }, [productDeletionSuccess, history, dispatch]);\n\n  // ===== handlers\n  const confirmDelete = () => setShowDelete(true);\n  const doDelete = () => {\n    dispatch(deleteProduct(match.params.id));\n    setShowDelete(false);\n  };\n\n  const handleToggleWishlist = () => {\n    if (!pid) return;\n    dispatch(toggleWishlist(pid));\n  };\n\n  // Open the order form modal\n  const openOrder = () => {\n    setOrderOpen(true);\n  };\n\n  // Send to WhatsApp after small validation\n  const sendOrder = () => {\n    if (!custName.trim() || !custPhone.trim() || !custAddress.trim()) {\n      alert('Merci de remplir nom, t√©l√©phone et adresse.');\n      return;\n    }\n    const price = Number(product?.price || 0);\n    const total = price * qty;\n    const adminPhone = '212612345678'; // <-- PUT YOUR WHATSAPP NUMBER HERE (no +, only digits)\n\n    const msg = [\n      `*Nouvelle commande*`,\n      `Produit : ${product?.name || '-'}`,\n      `Quantit√© : ${qty}`,\n      `Total estim√© : ${new Intl.NumberFormat('fr-MA', {\n        style: 'currency',\n        currency: 'MAD',\n      }).format(total)}`,\n      `---`,\n      `Nom : ${custName}`,\n      `T√©l√©phone : ${custPhone}`,\n      `Adresse : ${custAddress}`,\n    ].join('\\n');\n\n    const url =\n      'https://wa.me/' +\n      adminPhone +\n      '?text=' +\n      encodeURIComponent(msg);\n\n    window.open(url, '_blank');\n    setOrderOpen(false);\n  };\n\n  // ===== ui\n  if (loading) {\n    return (\n      <div className=\"d-flex align-items-center\">\n        <h5 className=\"mb-0\">Getting Product Details</h5>\n        <Spinner animation=\"border\" className=\"ml-2\" />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <Container className=\"pd\">\n          <Row className=\"gy-4\">\n            {/* LEFT ‚Äì Sticky media */}\n            <Col lg={6}>\n              <div className=\"pd-media\">\n                <div className=\"pd-media-frame\">\n                  <img src={product?.image} alt={product?.name} />\n                </div>\n              </div>\n            </Col>\n\n            {/* RIGHT ‚Äì Info / actions */}\n            <Col lg={6}>\n              <div className=\"pd-card mb-3\">\n                <h2 className=\"pd-title\">{product?.name}</h2>\n\n                <div className=\"pd-subtle mb-3\">\n                  {product?.category ? (\n                    <>\n                      Cat√©gorie : <b>{product.category}</b>\n                    </>\n                  ) : null}\n                </div>\n\n                {/* status chip */}\n                <div className=\"mb-3\">\n                  {product?.stock ? (\n                    <span className=\"pd-chip pd-chip--ok\">\n                      <i className=\"fas fa-check-circle\" /> En stock\n                    </span>\n                  ) : (\n                    <span className=\"pd-chip pd-chip--ko\">\n                      <i className=\"fas fa-times-circle\" /> Out of stock\n                    </span>\n                  )}\n                </div>\n\n                {/* description */}\n                {product?.description && (\n                  <p className=\"pd-subtle\" style={{ lineHeight: 1.7 }}>\n                    {product.description}\n                  </p>\n                )}\n\n                {/* admin buttons */}\n                {userInfo && userInfo.admin ? (\n                  <div className=\"mt-3 d-flex\" style={{ gap: 10 }}>\n                    <Button variant=\"danger\" onClick={confirmDelete}>\n                      Delete Product\n                    </Button>\n                    <Button\n                      variant=\"primary\"\n                      onClick={() => history.push(`/product-update/${product.id}/`)}\n                    >\n                      Edit Product\n                    </Button>\n                  </div>\n                ) : null}\n              </div>\n\n              {/* price + qty + ctas */}\n              <div className=\"pd-card\">\n                {/* price */}\n                <div className=\"pd-price mb-3\">\n                  <span className=\"pd-subtle\">Prix</span>\n                  <strong>\n                    {new Intl.NumberFormat('fr-MA', {\n                      style: 'currency',\n                      currency: 'MAD',\n                    }).format(Number(product?.price || 0))}\n                  </strong>\n                </div>\n\n                {/* quantity */}\n                <div className=\"mb-3\">\n                  <div className=\"pd-subtle mb-2\">Quantit√©</div>\n                  <div className=\"pd-qty\">\n                    <button type=\"button\" className=\"btn\" onClick={minus} aria-label=\"minus\">\n                      &minus;\n                    </button>\n                    <input\n                      value={qty}\n                      onChange={(e) => {\n                        const v = Number(e.target.value);\n                        if (!Number.isNaN(v)) setQty(Math.max(1, Math.min(99, v)));\n                      }}\n                    />\n                    <button type=\"button\" className=\"btn\" onClick={plus} aria-label=\"plus\">\n                      +\n                    </button>\n                  </div>\n                </div>\n\n                {/* actions */}\n                <div className=\"pd-actions mb-2\">\n                  {/* WhatsApp order ‚Äì always visible */}\n                  <button className=\"pd-btn-primary\" onClick={openOrder}>\n                    <i className=\"fab fa-whatsapp mr-2\" /> Commander maintenant\n                  </button>\n\n                  {/* Stripe checkout ‚Äì only if in stock (keep your flow) */}\n                  {product?.stock ? (\n                    <Link to={`${product.id}/checkout/`} className=\"pd-btn-outline btn\">\n                      Pay with Stripe\n                    </Link>\n                  ) : null}\n\n                  {/* Wishlist toggle */}\n                  <button\n                    onClick={handleToggleWishlist}\n                    className=\"pd-btn-outline\"\n                    aria-label={inWishlist ? 'Retirer de la wishlist' : 'Ajouter √† la wishlist'}\n                  >\n                    {inWishlist ? 'üíî Retirer de ma wishlist' : 'ü§ç Ajouter √† ma wishlist'}\n                  </button>\n                </div>\n\n                {/* total */}\n                <div className=\"pd-total\">\n                  Total estim√© :{' '}\n                  <b>\n                    {new Intl.NumberFormat('fr-MA', { style: 'currency', currency: 'MAD' }).format(\n                      Number(product?.price || 0) * qty\n                    )}\n                  </b>\n                </div>\n              </div>\n            </Col>\n          </Row>\n      </Container>\n      )}\n\n      {/* DELETE MODAL */}\n      <Modal show={showDelete} onHide={() => setShowDelete(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            <i style={{ color: '#e6e600' }} className=\"fas fa-exclamation-triangle\" /> Delete\n            Confirmation\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          Are you sure you want to delete <em>\"{product?.name}\"</em>?\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"danger\" onClick={doDelete}>\n            Confirm Delete\n          </Button>\n          <Button variant=\"primary\" onClick={() => setShowDelete(false)}>\n            Cancel\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* ORDER (WHATSAPP) MODAL */}\n      <Modal show={orderOpen} onHide={() => setOrderOpen(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            <i className=\"fab fa-whatsapp mr-2\" />\n            Commander maintenant\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Group controlId=\"orderName\" className=\"mb-3\">\n              <Form.Label>Nom / Pr√©nom</Form.Label>\n              <Form.Control\n                value={custName}\n                onChange={(e) => setCustName(e.target.value)}\n                placeholder=\"Votre nom\"\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"orderPhone\" className=\"mb-3\">\n              <Form.Label>T√©l√©phone (WhatsApp)</Form.Label>\n              <Form.Control\n                value={custPhone}\n                onChange={(e) => setCustPhone(e.target.value)}\n                placeholder=\"06 xx xx xx xx\"\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"orderAddress\" className=\"mb-0\">\n              <Form.Label>Adresse</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                value={custAddress}\n                onChange={(e) => setCustAddress(e.target.value)}\n                placeholder=\"Ville, quartier, rue, n¬∞...\"\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"success\" onClick={sendOrder}>\n            Envoyer sur WhatsApp\n          </Button>\n          <Button variant=\"secondary\" onClick={() => setOrderOpen(false)}>\n            Annuler\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default ProductDetailsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}