{"ast":null,"code":"// src/store.js\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\nimport allReducers from './reducers/index';\nconst middleware = [thunk];\nconst userInfoFromStorage = localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null;\n\n// ⬇️ set axios default Authorization header if we have a token\nif (userInfoFromStorage !== null && userInfoFromStorage !== void 0 && userInfoFromStorage.token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${userInfoFromStorage.token}`;\n} else if (userInfoFromStorage !== null && userInfoFromStorage !== void 0 && userInfoFromStorage.access) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${userInfoFromStorage.access}`;\n}\nconst initialState = {\n  userLoginReducer: {\n    userInfo: userInfoFromStorage\n  }\n};\nconst store = createStore(allReducers, initialState, composeWithDevTools(applyMiddleware(...middleware)));\nexport default store;","map":{"version":3,"names":["createStore","applyMiddleware","composeWithDevTools","thunk","axios","allReducers","middleware","userInfoFromStorage","localStorage","getItem","JSON","parse","token","defaults","headers","common","access","initialState","userLoginReducer","userInfo","store"],"sources":["C:/Users/OUSSAMA CHAROUK/Downloads/FullStack_Ecommerce_App-main/frontend/src/store.js"],"sourcesContent":["// src/store.js\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\nimport allReducers from './reducers/index';\n\nconst middleware = [thunk];\n\nconst userInfoFromStorage = localStorage.getItem('userInfo')\n  ? JSON.parse(localStorage.getItem('userInfo'))\n  : null;\n\n// ⬇️ set axios default Authorization header if we have a token\nif (userInfoFromStorage?.token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${userInfoFromStorage.token}`;\n} else if (userInfoFromStorage?.access) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${userInfoFromStorage.access}`;\n}\n\nconst initialState = {\n  userLoginReducer: { userInfo: userInfoFromStorage },\n};\n\nconst store = createStore(\n  allReducers,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,eAAe,QAAQ,OAAO;AACpD,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,kBAAkB;AAE1C,MAAMC,UAAU,GAAG,CAACH,KAAK,CAAC;AAE1B,MAAMI,mBAAmB,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,GACxDC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,GAC5C,IAAI;;AAER;AACA,IAAIF,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAEK,KAAK,EAAE;EAC9BR,KAAK,CAACS,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUR,mBAAmB,CAACK,KAAK,EAAE;AACxF,CAAC,MAAM,IAAIL,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAES,MAAM,EAAE;EACtCZ,KAAK,CAACS,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUR,mBAAmB,CAACS,MAAM,EAAE;AACzF;AAEA,MAAMC,YAAY,GAAG;EACnBC,gBAAgB,EAAE;IAAEC,QAAQ,EAAEZ;EAAoB;AACpD,CAAC;AAED,MAAMa,KAAK,GAAGpB,WAAW,CACvBK,WAAW,EACXY,YAAY,EACZf,mBAAmB,CAACD,eAAe,CAAC,GAAGK,UAAU,CAAC,CACpD,CAAC;AAED,eAAec,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}