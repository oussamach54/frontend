{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OUSSAMA CHAROUK\\\\Downloads\\\\FullStack_Ecommerce_App-main\\\\frontend\\\\src\\\\pages\\\\ResetPasswordConfirmPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { confirmPasswordReset } from \"../actions/userActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useQP() {\n  _s();\n  const {\n    search\n  } = useLocation();\n  return new URLSearchParams(search);\n}\n_s(useQP, \"pGdq4SMUAyJoyoPfrhAPC6/E7e4=\", false, function () {\n  return [useLocation];\n});\nexport default function ResetPasswordPage() {\n  _s2();\n  const qs = useQP();\n  const uid = qs.get(\"uid\") || \"\"; // ou \"uidb64\"\n  const token = qs.get(\"token\") || \"\";\n  const [pw1, setPw1] = useState(\"\");\n  const [pw2, setPw2] = useState(\"\");\n  const dispatch = useDispatch();\n  const {\n    loading,\n    success,\n    error\n  } = useSelector(s => s.passwordResetConfirm || {});\n  const onSubmit = e => {\n    e.preventDefault();\n    if (pw1 !== pw2) return alert(\"Les deux mots de passe ne correspondent pas\");\n    dispatch(confirmPasswordReset({\n      uid,\n      token,\n      new_password: pw1\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card only-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"auth-title\",\n        children: \"R\\xE9initialiser le mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"success\",\n        children: [\"Mot de passe modifi\\xE9. \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Se connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: String(error)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Nouveau mot de passe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            value: pw1,\n            onChange: e => setPw1(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Confirmez le mot de passe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            value: pw2,\n            onChange: e => setPw2(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? \"Validation...\" : \"Changer le mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_s2(ResetPasswordPage, \"zuTWzHCzzujDaL3igTCRMbQYxRo=\", false, function () {\n  return [useQP, useDispatch, useSelector];\n});\n_c = ResetPasswordPage;\nvar _c;\n$RefreshReg$(_c, \"ResetPasswordPage\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useLocation","Link","Form","Button","Alert","confirmPasswordReset","jsxDEV","_jsxDEV","useQP","_s","search","URLSearchParams","ResetPasswordPage","_s2","qs","uid","get","token","pw1","setPw1","pw2","setPw2","dispatch","loading","success","error","s","passwordResetConfirm","onSubmit","e","preventDefault","alert","new_password","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","to","String","Group","Label","Control","type","value","onChange","target","required","disabled","_c","$RefreshReg$"],"sources":["C:/Users/OUSSAMA CHAROUK/Downloads/FullStack_Ecommerce_App-main/frontend/src/pages/ResetPasswordConfirmPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { confirmPasswordReset } from \"../actions/userActions\";\r\n\r\nfunction useQP() {\r\n  const { search } = useLocation();\r\n  return new URLSearchParams(search);\r\n}\r\n\r\nexport default function ResetPasswordPage() {\r\n  const qs = useQP();\r\n  const uid = qs.get(\"uid\") || \"\";     // ou \"uidb64\"\r\n  const token = qs.get(\"token\") || \"\";\r\n  const [pw1, setPw1] = useState(\"\");\r\n  const [pw2, setPw2] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const { loading, success, error } = useSelector(s => s.passwordResetConfirm || {});\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (pw1 !== pw2) return alert(\"Les deux mots de passe ne correspondent pas\");\r\n    dispatch(confirmPasswordReset({ uid, token, new_password: pw1 }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <div className=\"auth-card only-form\">\r\n        <h1 className=\"auth-title\">Réinitialiser le mot de passe</h1>\r\n\r\n        {success && (\r\n          <Alert variant=\"success\">\r\n            Mot de passe modifié. <Link to=\"/login\">Se connecter</Link>\r\n          </Alert>\r\n        )}\r\n        {error && <Alert variant=\"danger\">{String(error)}</Alert>}\r\n\r\n        <Form onSubmit={onSubmit}>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Nouveau mot de passe</Form.Label>\r\n            <Form.Control type=\"password\" value={pw1} onChange={(e) => setPw1(e.target.value)} required />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-4\">\r\n            <Form.Label>Confirmez le mot de passe</Form.Label>\r\n            <Form.Control type=\"password\" value={pw2} onChange={(e) => setPw2(e.target.value)} required />\r\n          </Form.Group>\r\n          <Button type=\"submit\" disabled={loading}>\r\n            {loading ? \"Validation...\" : \"Changer le mot de passe\"}\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}