{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OUSSAMA CHAROUK\\\\Downloads\\\\FullStack_Ecommerce_App-main\\\\frontend\\\\src\\\\pages\\\\ProductsListPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProductsList } from '../actions/productActions';\nimport Message from '../components/Message';\nimport { Spinner, Row, Col } from 'react-bootstrap';\nimport Product from '../components/Product';\nimport { useHistory } from 'react-router-dom';\nimport { CREATE_PRODUCT_RESET } from '../constants';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProductsListPage() {\n  _s();\n  let history = useHistory();\n  const dispatch = useDispatch();\n\n  // products list reducer\n  const productsListReducer = useSelector(state => state.productsListReducer);\n  const {\n    loading,\n    error,\n    products\n  } = productsListReducer;\n  useEffect(() => {\n    dispatch(getProductsList());\n    dispatch({\n      type: CREATE_PRODUCT_RESET\n    });\n  }, [dispatch]);\n\n  // ---- Parse query params (?search=...&type=...) ----\n  const params = new URLSearchParams(history.location.search);\n  const q = (params.get('search') || '').toLowerCase(); // your existing search param\n  const type = (params.get('type') || '').toLowerCase(); // new type filter\n\n  // Determine a product type from data; use p.category or p.type if available, else infer from name/description\n  const getType = p => {\n    const explicit = (p.category || p.type || '').toLowerCase();\n    if (explicit) return explicit;\n    const text = `${p.name} ${p.description || ''}`.toLowerCase();\n    if (/\\b(face|facial|skin)\\b/.test(text)) return 'face';\n    if (/\\b(lip|lips)\\b/.test(text)) return 'lips';\n    if (/\\b(eye|eyes|eyeliner|mascara|shadow)\\b/.test(text)) return 'eyes';\n    if (/\\b(eyebrow|brow)\\b/.test(text)) return 'eyebrow';\n    if (/\\b(hair|shampoo|conditioner|mask)\\b/.test(text)) return 'hair';\n    return '';\n  };\n\n  // Apply both filters\n  const filtered = (products || []).filter(item => {\n    const matchesQuery = q ? `${item.name} ${item.description || ''}`.toLowerCase().includes(q) : true;\n    const matchesType = type ? getType(item) === type : true;\n    return matchesQuery && matchesType;\n  });\n  const showNothingMessage = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: !loading ? /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"info\",\n        children: \"Nothing to show\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 26\n      }, this) : null\n    }, void 0, false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [error && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Getting Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2\",\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: filtered.length === 0 ? showNothingMessage() : filtered.map(product => /*#__PURE__*/_jsxDEV(Col, {\n          sm: 12,\n          md: 6,\n          lg: 4,\n          xl: 3,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mx-2\",\n            children: /*#__PURE__*/_jsxDEV(Product, {\n              product: product\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductsListPage, \"G6DNksmaq9+U8FA912fpANKJVqA=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n_c = ProductsListPage;\nexport default ProductsListPage;\nvar _c;\n$RefreshReg$(_c, \"ProductsListPage\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","getProductsList","Message","Spinner","Row","Col","Product","useHistory","CREATE_PRODUCT_RESET","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductsListPage","_s","history","dispatch","productsListReducer","state","loading","error","products","type","params","URLSearchParams","location","search","q","get","toLowerCase","getType","p","explicit","category","text","name","description","test","filtered","filter","item","matchesQuery","includes","matchesType","showNothingMessage","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","style","display","className","animation","length","map","product","sm","md","lg","xl","id","_c","$RefreshReg$"],"sources":["C:/Users/OUSSAMA CHAROUK/Downloads/FullStack_Ecommerce_App-main/frontend/src/pages/ProductsListPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProductsList } from '../actions/productActions';\nimport Message from '../components/Message';\nimport { Spinner, Row, Col } from 'react-bootstrap';\nimport Product from '../components/Product';\nimport { useHistory } from 'react-router-dom';\nimport { CREATE_PRODUCT_RESET } from '../constants';\n\nfunction ProductsListPage() {\n  let history = useHistory();\n  const dispatch = useDispatch();\n\n  // products list reducer\n  const productsListReducer = useSelector((state) => state.productsListReducer);\n  const { loading, error, products } = productsListReducer;\n\n  useEffect(() => {\n    dispatch(getProductsList());\n    dispatch({ type: CREATE_PRODUCT_RESET });\n  }, [dispatch]);\n\n  // ---- Parse query params (?search=...&type=...) ----\n  const params = new URLSearchParams(history.location.search);\n  const q = (params.get('search') || '').toLowerCase(); // your existing search param\n  const type = (params.get('type') || '').toLowerCase(); // new type filter\n\n  // Determine a product type from data; use p.category or p.type if available, else infer from name/description\n  const getType = (p) => {\n    const explicit = (p.category || p.type || '').toLowerCase();\n    if (explicit) return explicit;\n\n    const text = `${p.name} ${p.description || ''}`.toLowerCase();\n    if (/\\b(face|facial|skin)\\b/.test(text)) return 'face';\n    if (/\\b(lip|lips)\\b/.test(text)) return 'lips';\n    if (/\\b(eye|eyes|eyeliner|mascara|shadow)\\b/.test(text)) return 'eyes';\n    if (/\\b(eyebrow|brow)\\b/.test(text)) return 'eyebrow';\n    if (/\\b(hair|shampoo|conditioner|mask)\\b/.test(text)) return 'hair';\n    return '';\n  };\n\n  // Apply both filters\n  const filtered = (products || []).filter((item) => {\n    const matchesQuery = q\n      ? `${item.name} ${item.description || ''}`\n          .toLowerCase()\n          .includes(q)\n      : true;\n    const matchesType = type ? getType(item) === type : true;\n    return matchesQuery && matchesType;\n  });\n\n  const showNothingMessage = () => {\n    return <>{!loading ? <Message variant=\"info\">Nothing to show</Message> : null}</>;\n  };\n\n  return (\n    <div>\n      {error && <Message variant=\"danger\">{error}</Message>}\n      {loading && (\n        <span style={{ display: 'flex' }}>\n          <h5>Getting Products</h5>\n          <span className=\"ml-2\">\n            <Spinner animation=\"border\" />\n          </span>\n        </span>\n      )}\n\n      <div>\n        <Row>\n          {filtered.length === 0\n            ? showNothingMessage()\n            : filtered.map((product) => (\n                <Col key={product.id} sm={12} md={6} lg={4} xl={3}>\n                  <div className=\"mx-2\">\n                    <Product product={product} />\n                  </div>\n                </Col>\n              ))}\n        </Row>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductsListPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}