{"ast":null,"code":"import api from \"../utils/api\";\nexport const WISHLIST_LIST_REQUEST = \"WISHLIST_LIST_REQUEST\";\nexport const WISHLIST_LIST_SUCCESS = \"WISHLIST_LIST_SUCCESS\";\nexport const WISHLIST_LIST_FAIL = \"WISHLIST_LIST_FAIL\";\nexport const WISHLIST_TOGGLE_REQUEST = \"WISHLIST_TOGGLE_REQUEST\";\nexport const WISHLIST_TOGGLE_SUCCESS = \"WISHLIST_TOGGLE_SUCCESS\";\nexport const WISHLIST_TOGGLE_FAIL = \"WISHLIST_TOGGLE_FAIL\";\n\n/** GET /api/wishlist/ */\nexport const fetchWishlist = () => async (dispatch, getState) => {\n  const {\n    userLoginReducer: {\n      userInfo\n    } = {}\n  } = getState();\n  if (!userInfo) return; // not logged in, nothing to fetch\n\n  dispatch({\n    type: WISHLIST_LIST_REQUEST\n  });\n  try {\n    const {\n      data\n    } = await api.get(\"/api/wishlist/\");\n    dispatch({\n      type: WISHLIST_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (err) {\n    var _err$response, _err$response$data;\n    dispatch({\n      type: WISHLIST_LIST_FAIL,\n      payload: (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || err.message\n    });\n  }\n};\n\n/** POST /api/wishlist/toggle/ { product_id } */\nexport const toggleWishlist = productId => async dispatch => {\n  dispatch({\n    type: WISHLIST_TOGGLE_REQUEST,\n    meta: {\n      productId\n    }\n  });\n  try {\n    const {\n      data\n    } = await api.post(\"/api/wishlist/toggle/\", {\n      product_id: productId\n    });\n    // backend returns the full list or a single item; we’ll accept both:\n    dispatch({\n      type: WISHLIST_TOGGLE_SUCCESS,\n      payload: data\n    });\n  } catch (err) {\n    var _err$response2, _err$response2$data;\n    dispatch({\n      type: WISHLIST_TOGGLE_FAIL,\n      payload: (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || err.message,\n      error: true,\n      meta: {\n        productId\n      }\n    });\n  }\n};","map":{"version":3,"names":["api","WISHLIST_LIST_REQUEST","WISHLIST_LIST_SUCCESS","WISHLIST_LIST_FAIL","WISHLIST_TOGGLE_REQUEST","WISHLIST_TOGGLE_SUCCESS","WISHLIST_TOGGLE_FAIL","fetchWishlist","dispatch","getState","userLoginReducer","userInfo","type","data","get","payload","err","_err$response","_err$response$data","response","detail","message","toggleWishlist","productId","meta","post","product_id","_err$response2","_err$response2$data","error"],"sources":["C:/Users/OUSSAMA CHAROUK/Downloads/FullStack_Ecommerce_App-main/frontend/src/actions/wishlistActions.js"],"sourcesContent":["import api from \"../utils/api\";\r\n\r\nexport const WISHLIST_LIST_REQUEST = \"WISHLIST_LIST_REQUEST\";\r\nexport const WISHLIST_LIST_SUCCESS = \"WISHLIST_LIST_SUCCESS\";\r\nexport const WISHLIST_LIST_FAIL    = \"WISHLIST_LIST_FAIL\";\r\n\r\nexport const WISHLIST_TOGGLE_REQUEST = \"WISHLIST_TOGGLE_REQUEST\";\r\nexport const WISHLIST_TOGGLE_SUCCESS = \"WISHLIST_TOGGLE_SUCCESS\";\r\nexport const WISHLIST_TOGGLE_FAIL    = \"WISHLIST_TOGGLE_FAIL\";\r\n\r\n/** GET /api/wishlist/ */\r\nexport const fetchWishlist = () => async (dispatch, getState) => {\r\n  const { userLoginReducer: { userInfo } = {} } = getState();\r\n  if (!userInfo) return; // not logged in, nothing to fetch\r\n\r\n  dispatch({ type: WISHLIST_LIST_REQUEST });\r\n  try {\r\n    const { data } = await api.get(\"/api/wishlist/\");\r\n    dispatch({ type: WISHLIST_LIST_SUCCESS, payload: data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: WISHLIST_LIST_FAIL,\r\n      payload: err?.response?.data?.detail || err.message,\r\n    });\r\n  }\r\n};\r\n\r\n/** POST /api/wishlist/toggle/ { product_id } */\r\nexport const toggleWishlist = (productId) => async (dispatch) => {\r\n  dispatch({ type: WISHLIST_TOGGLE_REQUEST, meta: { productId } });\r\n  try {\r\n    const { data } = await api.post(\"/api/wishlist/toggle/\", { product_id: productId });\r\n    // backend returns the full list or a single item; we’ll accept both:\r\n    dispatch({ type: WISHLIST_TOGGLE_SUCCESS, payload: data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: WISHLIST_TOGGLE_FAIL,\r\n      payload: err?.response?.data?.detail || err.message,\r\n      error: true,\r\n      meta: { productId },\r\n    });\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,cAAc;AAE9B,OAAO,MAAMC,qBAAqB,GAAG,uBAAuB;AAC5D,OAAO,MAAMC,qBAAqB,GAAG,uBAAuB;AAC5D,OAAO,MAAMC,kBAAkB,GAAM,oBAAoB;AAEzD,OAAO,MAAMC,uBAAuB,GAAG,yBAAyB;AAChE,OAAO,MAAMC,uBAAuB,GAAG,yBAAyB;AAChE,OAAO,MAAMC,oBAAoB,GAAM,sBAAsB;;AAE7D;AACA,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC/D,MAAM;IAAEC,gBAAgB,EAAE;MAAEC;IAAS,CAAC,GAAG,CAAC;EAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC;EAC1D,IAAI,CAACE,QAAQ,EAAE,OAAO,CAAC;;EAEvBH,QAAQ,CAAC;IAAEI,IAAI,EAAEX;EAAsB,CAAC,CAAC;EACzC,IAAI;IACF,MAAM;MAAEY;IAAK,CAAC,GAAG,MAAMb,GAAG,CAACc,GAAG,CAAC,gBAAgB,CAAC;IAChDN,QAAQ,CAAC;MAAEI,IAAI,EAAEV,qBAAqB;MAAEa,OAAO,EAAEF;IAAK,CAAC,CAAC;EAC1D,CAAC,CAAC,OAAOG,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,kBAAA;IACZV,QAAQ,CAAC;MACPI,IAAI,EAAET,kBAAkB;MACxBY,OAAO,EAAE,CAAAC,GAAG,aAAHA,GAAG,wBAAAC,aAAA,GAAHD,GAAG,CAAEG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAbD,aAAA,CAAeJ,IAAI,cAAAK,kBAAA,uBAAnBA,kBAAA,CAAqBE,MAAM,KAAIJ,GAAG,CAACK;IAC9C,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,cAAc,GAAIC,SAAS,IAAK,MAAOf,QAAQ,IAAK;EAC/DA,QAAQ,CAAC;IAAEI,IAAI,EAAER,uBAAuB;IAAEoB,IAAI,EAAE;MAAED;IAAU;EAAE,CAAC,CAAC;EAChE,IAAI;IACF,MAAM;MAAEV;IAAK,CAAC,GAAG,MAAMb,GAAG,CAACyB,IAAI,CAAC,uBAAuB,EAAE;MAAEC,UAAU,EAAEH;IAAU,CAAC,CAAC;IACnF;IACAf,QAAQ,CAAC;MAAEI,IAAI,EAAEP,uBAAuB;MAAEU,OAAO,EAAEF;IAAK,CAAC,CAAC;EAC5D,CAAC,CAAC,OAAOG,GAAG,EAAE;IAAA,IAAAW,cAAA,EAAAC,mBAAA;IACZpB,QAAQ,CAAC;MACPI,IAAI,EAAEN,oBAAoB;MAC1BS,OAAO,EAAE,CAAAC,GAAG,aAAHA,GAAG,wBAAAW,cAAA,GAAHX,GAAG,CAAEG,QAAQ,cAAAQ,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAed,IAAI,cAAAe,mBAAA,uBAAnBA,mBAAA,CAAqBR,MAAM,KAAIJ,GAAG,CAACK,OAAO;MACnDQ,KAAK,EAAE,IAAI;MACXL,IAAI,EAAE;QAAED;MAAU;IACpB,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}